<!-- auth.html -->
<!DOCTYPE html>
<html>
  <head>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
  </head>
  <body>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyCCgWRVdE7nWgii1dqi7bNg40DcsyYRRks",
        authDomain: "chatbot-b9b25.firebaseapp.com",
        projectId: "chatbot-b9b25",
        storageBucket: "chatbot-b9b25.appspot.com",
        messagingSenderId: "342055286182",
        appId: "1:342055286182:web:ca4e0ec34914473f4e0b67",
        measurementId: "G-TRSJ3B5RJH"
      };

      firebase.initializeApp(firebaseConfig);

      firebase.auth().onAuthStateChanged((user) => {
        if (user) {
          user.getIdToken().then((token) => {
            window.parent.postMessage({ type: 'token', token }, '*');
          });
        }
      });

      function signInWithGoogle() {
        const provider = new firebase.auth.GoogleAuthProvider();
        firebase.auth().signInWithPopup(provider);
      }
    </script>

    <button onclick="signInWithGoogle()">üîê Sign in with Google</button>
  </body>
</html>